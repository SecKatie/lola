# Template File Contracts

**Date**: 2025-12-18
**Feature**: 001-mod-init-template

## Overview

This document defines the exact content of template files generated by `lola mod init`.

---

## README.md (Repository Root)

**Location**: `{module-name}/README.md`

```markdown
# {Module Name}

[REPLACE: Brief description of what this module provides]

## Installation

```bash
# Add to lola registry
lola mod add /path/to/{module-name}

# Install to a project
lola install {module-name}
```

## Components

### Skills

[REPLACE: List and describe each skill in module/skills/]

### Commands

[REPLACE: List and describe each command in module/commands/]

### Agents

[REPLACE: List and describe each agent in module/agents/]

### MCP Servers

[REPLACE: List and describe each MCP server in module/mcps.json]

## Development

This module follows the lola module structure:

```
{module-name}/
├── README.md           # This file (repo documentation)
└── module/             # Lola-importable content
    ├── skills/         # Skill folders with SKILL.md
    ├── commands/       # Slash command .md files
    ├── agents/         # Subagent .md files
    ├── mcps.json       # MCP server configuration
    └── AGENTS.md       # Module-level instructions
```

Edit files in `module/` to customize the content that gets installed to AI assistants.

## License

[REPLACE: Your license here]
```

---

## SKILL.md Template

**Location**: `{module-name}/module/skills/{skill-name}/SKILL.md`

```markdown
---
name: {skill-name}
description: [REPLACE: Brief description of what this skill does and when to use it]
---

# {Skill Name} Skill

[REPLACE: Detailed description of the skill's purpose and capabilities]

## When to Use

[REPLACE: Describe the scenarios and triggers for using this skill]

## Instructions

[REPLACE: Step-by-step instructions for the AI assistant to follow]

## Examples

[REPLACE: Provide concrete examples of the skill in action]

### Example 1: [REPLACE: Example Title]

```
[REPLACE: Example input/output or workflow]
```

## Best Practices

[REPLACE: Tips and guidelines for effective skill usage]
```

---

## Command Template

**Location**: `{module-name}/module/commands/{command-name}.md`

```markdown
---
description: [REPLACE: Brief description of what this command does]
argument-hint: "[REPLACE: expected arguments, e.g., <file> [options]]"
---

[REPLACE: Prompt instructions for the AI assistant when this command is invoked]

## Arguments

Use `$ARGUMENTS` to access any arguments passed to this command.

## Workflow

1. [REPLACE: First step]
2. [REPLACE: Second step]
3. [REPLACE: Continue as needed]

## Output

[REPLACE: Describe what the command should produce or accomplish]
```

---

## Agent Template

**Location**: `{module-name}/module/agents/{agent-name}.md`

```markdown
---
description: [REPLACE: Brief description of what this agent does and when to delegate to it]
---

# {Agent Name}

[REPLACE: Detailed instructions for this specialized agent]

## Purpose

[REPLACE: What tasks is this agent designed to handle?]

## Capabilities

[REPLACE: What can this agent do?]

## Guidelines

[REPLACE: Rules and best practices for this agent's behavior]

## Workflow

1. [REPLACE: Describe the agent's typical workflow]
2. [REPLACE: Continue as needed]
```

---

## mcps.json Template

**Location**: `{module-name}/module/mcps.json`

```json
{
  "mcpServers": {
    "[REPLACE: your-server-name]": {
      "command": "[REPLACE: command to run, e.g., npx]",
      "args": [
        "[REPLACE: first argument]",
        "[REPLACE: second argument, e.g., @package/server]"
      ],
      "env": {
        "[REPLACE: ENV_VAR_NAME]": "${[REPLACE: ENV_VAR_NAME]}"
      }
    }
  }
}
```

**Note**: MCP names are installed as-is (not prefixed with module name). If a name conflicts with an existing MCP, the user will be prompted to overwrite or skip.

---

## AGENTS.md Template (Instructions)

**Location**: `{module-name}/module/AGENTS.md`

```markdown
# {Module Name}

[REPLACE: Brief overview of what this module provides]

## When to Use

{Dynamic content based on created components}

- **{Skill Name}**: Use the `{skill-name}` skill for [REPLACE: describe when to use]
- **{Command Name}**: Use `/{module-name}.{command-name}` to [REPLACE: describe what it does]
- **{Agent Name}**: Delegate to `@{module-name}.{agent-name}` for [REPLACE: describe when to use]

## Configuration

[REPLACE: Any configuration or setup requirements]

## Notes

[REPLACE: Additional guidance for AI assistants using this module]
```

---

## Placeholder Convention

All template files use the `[REPLACE: ...]` marker format:

- **Format**: `[REPLACE: descriptive hint]`
- **Purpose**: Clearly indicates user-editable sections
- **Search**: Users can find all placeholders with `grep -r "\[REPLACE:" .`

### Valid Placeholder Examples

```
[REPLACE: Your skill name]
[REPLACE: Brief description]
[REPLACE: Step-by-step instructions]
[REPLACE: expected arguments, e.g., <file> [options]]
```

### Variable Substitutions

Some placeholders are auto-filled during generation:

| Variable | Source |
|----------|--------|
| `{module-name}` | CLI argument or directory name |
| `{Module Name}` | Title-cased module name |
| `{skill-name}` | `--skill` option or default |
| `{Skill Name}` | Title-cased skill name |
| `{command-name}` | `--command` option or default |
| `{Command Name}` | Title-cased command name |
| `{agent-name}` | `--agent` option or default |
| `{Agent Name}` | Title-cased agent name |
